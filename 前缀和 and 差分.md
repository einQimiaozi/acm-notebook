## 一维前缀和

前缀和是一种设计方法，不是一种单独的算法，可以提高代码效率

设si为前缀和数组，ai为数据数组

前缀和的数据数组一般会以下标1开始，下标0置为0，方便求n个前缀和

s[i] = 0+a[1]+a[2]+...+a[i]

s[i] = s[i-1]+a[i]

求a中l到r下标之和 = s[r] - s[l-1] 

特别：如果求a中前n个下标之和 = s[n]

## 二维前缀和

想画图一样思考就可以了，常用于计算面积

sij为二维前缀和数组，aij为数据数组

s[i][j] = s[i-1][j] + s[i][j-1] - s[i-1][j-1] + a[i][j]

a[i][j] = s[i][j] - s[i-1][j] - s[i][j-1] + s[i-1][j-1]

## 一维差分

差分是一个数组，若数组a满足

a[i] = b[1]+b[2]+...+b[i]

则数组b是a的差分，a是b的前缀和

用处：
  - 使用O(n)的时间用b数组反推出a数组
  - 用O(1)的时间求出a[i]+c (i=1...n)

比如a[l]到a[r]全部+c，可以让b[l]+c，由于a[l]到a[n]可以通过b数组推出，所以相当于a[l]到a[n]全部+c，而r到n的部分只要-c，就可以使得只有a[l]到a[r]部分+c，操作时间复杂度为O(1)

由于差分数组不需要构造，可以通过原数组进行推到得出，比如

a = [1,2,4]

b[1] = a[1]

b[2] = a[2] - b[1]

b[3] = a[3] - b[2]

所以差分数组唯一的操作就是 +c 和 -c

## 二维差分


